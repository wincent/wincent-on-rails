function getCookie(a){for(var b=document.cookie.split("; "),c=0;c<b.length;c++){var e=b[c],d=e.indexOf("=");if(e.substring(0,d)==a)return e.substring(d+1)}return null}function setCookie(a,b,c){a=escape(a)+"="+escape(b||"")+";";if(c){b=new Date;b.setTime(b.getTime()+1E3*parseInt(c));a=a+" expires="+b.toGMTString()+";"}a+=" path=/;";return document.cookie=a}function deleteCookie(a){return setCookie(a,null,-86400)}
function setUpLoginLogoutLinks(){var a=getCookie("user_id");a==null||a==""?$("#logout").remove():$("#login").remove()}function insertFlash(a,b){b&&$("#cacheable-flash").append($("<div/>",{"class":a,html:b}))}function displayCacheableFlash(){var a=getCookie("flash");if(a){a=unescape(a).replace(/\+/g," ");a=eval("flash = "+a+";");insertFlash("error",a.error);insertFlash("notice",a.notice);deleteCookie("flash")}}
function dateFromUTCString(a){return(a=a.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2}) UTC/))?new Date(Date.UTC(parseInt(a[1]),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10))):new Date}
function relativizeDates(){$(".relative-date").each(function(){var a=this.innerHTML,b=new Date,c=dateFromUTCString(a);a=b.getTime()-c.getTime();a=Math.round(a/1E3);if(a<0)a="in the future";else if(a==0)a="now";else if(a<60)a="a few seconds ago";else if(a<120)a="a minute ago";else if(a<180)a="a couple of minutes ago";else if(a<300)a="a few minutes ago";else if(a<3600)a=Math.round(a/60)+" minutes ago";else if(a<7200)a="an hour ago";else if(a<86400)a=Math.round(a/3600)+" hours ago";else{a=Math.round(a/
86400);if(a==1)a="yesterday";else if(a<=7)a=a+" days ago";else{a=Math.round(a/7);a=a==1?"a week ago":a<=6?a+" weeks ago":c.toLocaleDateString()}}this.title=c.toLocaleString();this.innerHTML=a})}
$.fn.syntaxHighlight=function(){function a(c,e){if(!e)return c;for(var d="";c!="";){var f=null,g=null;for(var i in e){var h=c.match(e[i]);if(h&&(f&&h.index<f||!f)){f=h.index;h.rule=i;g=h;if(f==0)break}}if(g){f='<span class="'+g.rule+'-syntax">';h="</span>";if(g.rule.match(/^skip-/))h=f="";d=d+c.substring(0,g.index)+f+g[0]+h;c=c.substring(g.index+g[0].length)}else{d+=c;break}}return d}var b={};b["c-syntax"]={preprocessor:/^\s*#.*/m,comment:/\/\/.*|\/\*([^\*]|\*(?!\/))*\*\//,"string-literal":/("(<a .+?a>|[^"\\]|\\.)*"|'([^'\\]|\\.)?')/,
keyword:/\b(_Bool|bool|char|const|int|long|short|struct|typedef|unsigned|void)\b/,statement:/\b(break|case|continue|default|do|else|for|goto|if|return|sizeof|static|switch|while)\b/,"boolean":/\b(true|false)\b/,"numeric-literal":/\b(0[xX][a-fA-F0-9]+|\d+(\.\d+f?)?)\b/};b["objc-syntax"]=$.extend({},b["c-syntax"],{keyword:/\b(_Bool|BOOL|bool|char|const|int|long|short|struct|typedef|unsigned|void)\b/,"boolean":/\b(YES|NO|true|false)\b/});b["ruby-syntax"]={"skip-anchor":/<a .+?a>/,"skip-entities":/&\w+;/,
comment:/#.*/,"string-literal":/("(<a .+?a>|[^"\\]|\\.)*"|'(<a .+?a>|[^'\\]|\\.)*')/,keyword:/\b(begin|break|catch|class|continue|def|else|end|for|if|include|load|module|raise|redo|require|rescue|retry|then|throw|unless|until|while|yield)\b/,statement:/\b(private|protected|public)\b/,"boolean":/\b(true|false)\b/,constant:/\b[A-Z][a-zA-Z0-9_]*\b/,namespace:/::/,identifier:/(\$|@{1,2})[a-z_][a-zA-Z0-9_]*\b/,symbol:/:[a-zA-Z_][a-zA-Z0-9_]*\b/,"numeric-literal":/\b(0[xX][a-fA-F0-9]+(_[a-fA-F0-9]+)*|0[bB][0-1]+(_[0-1]+)*|[0-9]+(_[0-9]+)*(\.[0-9]+(_[0-9]+)*)?)\b/};
b["shell-syntax"]={output:/^[^#\$\n].*/m,constant:/(\\\n|.)+/m};this.find("pre[class$=syntax][class!=highlighted]").each(function(){$(this).addClass("highlighted");this.innerHTML='<span class="line-number"></span>'+a(this.innerHTML,b[$(this).attr("class")]).split("\n").join('\n<span class="line-number"></span>')});return this};function setUpSearchLink(){$("#search-link").click(function(){$("#search_box").toggle().focus();return false})}
$(document).ready(function(){setUpLoginLogoutLinks();setUpSearchLink();displayCacheableFlash();relativizeDates();$("body").syntaxHighlight();$("a[data-confirm],input[data-confirm]").live("click",function(){return confirm($(this).attr("data-confirm"))});$("a[data-method=delete]").live("click",function(a){var b=$("meta[name=csrf-token]").attr("content"),c=$("meta[name=csrf-param]").attr("content"),e=$(this),d=e.attr("href");e=e.attr("data-method");d=$("<form/>",{method:"post",action:d,type:"hidden"}).append($("<input/>",
{name:"_method",value:e,type:"hidden"}));b&&c&&d.append($("<input/>",{name:c,value:b,type:"hidden"}));d.hide().appendTo("body");d.submit();a.preventDefault()});$("a[data-popup]").live("click",function(){window.open(this.href,null,$(this).attr("data-popup"));return false})});
